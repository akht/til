# 剰余、合同式、modなど

modなど

## 合同式

> $a \equiv b \pmod n$


**意味**
- nで割った余りがaとbは同じである
- a-bがnの倍数である


**さらに次の３つの意味も持つ**
- 「割る数」と「余り」がともに等しい数の組みである
- 同じ余りを差し引くと、nの倍数になる数の組みである
- 「nの倍数」を同じ幅だけずらした数の組みである

**合同式の具体例**
- $10 \equiv 4 \pmod 3$ (余り:1)
- $100 \equiv 1 \pmod 3$ (余り:1)
- $99 \equiv 0 \pmod 3$ (余り:0 -> 割り切れる)


数そのものとしては大小ばらばらの値が、「法」と余りを固定することで合同関係にあることが示される。
また、**両辺のどちらかの値が法の3より小さいときには、その値は余りそのものを表している。**
さらに、**それが0の場合はもう一方の値がちょうど「割り切れる」ことを表している。**


## 合同式の性質
合同式は計算のようなことができる場合がある。

#### 反射律 (自分自身と同じ)
> $a \equiv a \pmod n$

#### 対称律 (両辺を入れ替えても同じ)
> $a \equiv b \pmod n \to b \equiv a \pmod n$

#### 遷移律 (友達の友達は友達)
> $a \equiv b, b \equiv c \pmod n$
> $\to a \equiv c \pmod n$

bに橋渡しされる形で、aとcも合同である。
> $100 \equiv 10, 10 \equiv 1 \pmod 3$
> $\to 100 \equiv 1 \pmod 3$


#### 同じ値を足し引きしてもよい
> $a \equiv b \pmod n$
> $\to a \plusmn c \equiv b \plusmn c \pmod n$

もともと剰余の合同関係とは、割り数の倍数を同じ余りの分だけスライドさせた数同士の関係のことだった。
なのでそれに加えて、両辺をさらに同じ幅だけ積み増したり減らしても(つまりスライドさせても)、合同関係自体は変わらない。
ただし、足し引きしたぶんだけ余りの値も一緒に動いていることに注意しておく。
とはいえ、これは考えようによっては、**余りの値を自分の好きなように操作できる**、ということでもある。


#### 負の値の合同関係
正の値と負の値の合同関係も同じように成り立つ。

|  合同式  |  余り  |
| ---- | ---- |
|  $102 \equiv 3 \pmod 3$  |  余り:0 -> 割り切れる  |
|  $101 \equiv 2 \pmod 3$  |  余り:2 |
|  $100 \equiv 1 \pmod 3$  |  余り:1 |
|  $99 \equiv 0 \pmod 3$  |  余り:0 -> 割り切れる  |
|  $98 \equiv -1 \pmod 3$  |  余り:2 |
|  $97 \equiv -2 \pmod 3$  |  余り:1 |

#### 同じ「法」なら混ぜて足してもよい
> $a \equiv b \pmod n$
> $c \equiv d \pmod n$
> $\to a + c \equiv b + d \pmod n$

これは以下のようにして導ける。
まず「和の公式」からそれぞれ両辺にc, bを足して
> $a \equiv b \pmod n \to a + c \equiv b + c \pmod n$
> $c \equiv d \pmod n \to b + c \equiv b + d \pmod n$

すると「遷移律」から２つの合同式を繋げるので
> $a + c \equiv b + d \pmod n$

となる。

具体例
> $100 \equiv 1 \pmod 3$
> $11 \equiv 5$
> $\to 111 \equiv 6 \pmod 3$

#### 足していいなら掛けてもよい
> $a \equiv b \pmod n$
> $\to ac \equiv  bc \pmod n$

式同士を足せるということは、同じものを足せば$2a \equiv 2b \pmod n$ということになるので、
両辺に同じ整数を掛けてもよいことになる。


#### 合同式を使って「倍数」を判定する
「3」を法とする３つの合同式があるとする。
> $100 \equiv 1 \pmod 3$
> $10 \equiv 1$
> $1 \equiv 1$

この３つの両辺に、「掛け算の公式」をつかってそれぞれ整数の変数a, b, cを掛ける。
> $100a \equiv a$
> $10b \equiv b$
> $1c \equiv c$

次に、「式の和の公式」を使って３式の辺々を合算すると以下の合同式が得られる。

> $100a + 10b + 1c \equiv a + b + c \pmod 3$

**これが何を意味しているか？**
左辺は「10進数の基本構造の式」になっている。対して、右辺はその各桁の数を単純に足したもの。
すなわち、この式は「**各桁の数を足した値が3で割り切れる数は、自身も3で割り切れる**」ということを表している。
さらに、3の割り算に対して、割り切れる0のときだけでなく、各桁の合計値の余りは元の数の余りと常に同じである、ということも示している。





---

資料
- https://katex.org/docs/supported.html
- http://oto-suu.seesaa.net/article/216454142.html
- https://math.nakaken88.com/textbook/expert-calculate-remainder-congruence-relation/
- https://mathtrain.jp/mod
- http://www.mathlion.jp/article/ar017.html

